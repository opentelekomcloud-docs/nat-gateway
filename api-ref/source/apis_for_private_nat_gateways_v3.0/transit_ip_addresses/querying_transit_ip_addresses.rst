:original_name: ListTransitIps.html

.. _ListTransitIps:

Querying Transit IP Addresses
=============================

Function
--------

This API is to query transit IP addresses.

Constraints
-----------

You can type the question mark (?) and ampersand (&) at the end of the URI to define multiple search criteria.

All optional parameters can be filtered. For details, see the example request.

URI
---

GET /v3/{project_id}/private-nat/transit-ips

.. table:: **Table 1** Path Parameters

   ========== ========= ====== =========================
   Parameter  Mandatory Type   Description
   ========== ========= ====== =========================
   project_id Yes       String Specifies the project ID.
   ========== ========= ====== =========================

.. table:: **Table 2** Query Parameters

   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory       | Type             | Description                                                                                                                                               |
   +=======================+=================+==================+===========================================================================================================================================================+
   | limit                 | No              | Integer          | Specifies the number of records displayed on each page.                                                                                                   |
   |                       |                 |                  |                                                                                                                                                           |
   |                       |                 |                  | The value ranges from 1 to 2000.                                                                                                                          |
   |                       |                 |                  |                                                                                                                                                           |
   |                       |                 |                  | Default value: **2000**                                                                                                                                   |
   |                       |                 |                  |                                                                                                                                                           |
   |                       |                 |                  | **Value range:**                                                                                                                                          |
   |                       |                 |                  |                                                                                                                                                           |
   |                       |                 |                  | 1-2000                                                                                                                                                    |
   |                       |                 |                  |                                                                                                                                                           |
   |                       |                 |                  | **Default value:**                                                                                                                                        |
   |                       |                 |                  |                                                                                                                                                           |
   |                       |                 |                  | 2000                                                                                                                                                      |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | marker                | No              | String           | Specifies the start resource ID of pagination query. If the parameter is left blank, only resources on the first page are queried.                        |
   |                       |                 |                  |                                                                                                                                                           |
   |                       |                 |                  | The value is obtained from **next_marker** or **previous_marker** in **PageInfo** queried last time.                                                      |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | page_reverse          | No              | Boolean          | Specifies whether to query resources on the previous page.                                                                                                |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | No              | Array of strings | Specifies the ID of the transit IP address.                                                                                                               |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id            | No              | Array of strings | Specifies the project ID.                                                                                                                                 |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | network_interface_id  | No              | Array of strings | Specifies the network interface ID of the transit IP address.                                                                                             |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ip_address            | No              | Array of strings | Specifies the transit IP address.                                                                                                                         |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | gateway_id            | No              | Array of strings | Specifies the ID of the private NAT gateway associated with the transit IP address.                                                                       |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_id | No              | Array of strings | Specifies the ID of the enterprise project that is associated with the transit IP address when the transit IP address is assigned.                        |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | virsubnet_id          | No              | Array of strings | Specifies the subnet ID of the current tenant.                                                                                                            |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | transit_subnet_id     | No              | Array of strings | Specifies the transit subnet ID.                                                                                                                          |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description           | No              | Array of strings | Provides supplementary information about the transit IP address. The description can contain up to 255 characters and cannot contain angle brackets (<>). |
   +-----------------------+-----------------+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                             |
   +=================+=================+=================+=========================================================================================================================+
   | X-Auth-Token    | Yes             | String          | Specifies the user token.                                                                                               |
   |                 |                 |                 |                                                                                                                         |
   |                 |                 |                 | It is a response to the API used to obtain a user token. This API is the only one that does not require authentication. |
   |                 |                 |                 |                                                                                                                         |
   |                 |                 |                 | The value of **X-Subject-Token** in the response header is the token value.                                             |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +-------------+------------------------------------------------------------------------+----------------------------------------------------------------+
   | Parameter   | Type                                                                   | Description                                                    |
   +=============+========================================================================+================================================================+
   | transit_ips | Array of :ref:`TransitIp <listtransitips__response_transitip>` objects | Specifies the response body for querying transit IP addresses. |
   +-------------+------------------------------------------------------------------------+----------------------------------------------------------------+
   | page_info   | :ref:`PageInfo <listtransitips__response_pageinfo>` object             | Specifies the pagination information.                          |
   +-------------+------------------------------------------------------------------------+----------------------------------------------------------------+
   | request_id  | String                                                                 | Specifies the request ID.                                      |
   +-------------+------------------------------------------------------------------------+----------------------------------------------------------------+

.. _listtransitips__response_transitip:

.. table:: **Table 5** TransitIp

   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                       | Description                                                                                                                              |
   +=======================+============================================================+==========================================================================================================================================+
   | id                    | String                                                     | Specifies the ID of the transit IP address.                                                                                              |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id            | String                                                     | Specifies the project ID.                                                                                                                |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | network_interface_id  | String                                                     | Specifies the network interface ID of the transit IP address.                                                                            |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | ip_address            | String                                                     | Specifies the transit IP address.                                                                                                        |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at            | String                                                     | Specifies the time when the transit IP address was assigned. It is a UTC time in *yyyy-mm-ddThh:mm:ssZ* format.                          |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at            | String                                                     | Specifies the time when the transit IP address was updated. It is a UTC time in *yyyy-mm-ddThh:mm:ssZ* format.                           |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | virsubnet_id          | String                                                     | Specifies the subnet ID of the current tenant.                                                                                           |
   |                       |                                                            |                                                                                                                                          |
   |                       |                                                            | Constraint: Either this parameter or **transit_subnet_id** must be specified. The default value is an empty string.                      |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                  | Array of :ref:`Tag <listtransitips__response_tag>` objects | Specifies the list of tags.                                                                                                              |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | gateway_id            | String                                                     | Specifies the ID of the private NAT gateway associated with the transit IP address.                                                      |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_id | String                                                     | Specifies the ID of the enterprise project that is associated with the transit IP address when the transit IP address is being assigned. |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                                                     | Specifies the transit IP address status.                                                                                                 |
   |                       |                                                            |                                                                                                                                          |
   |                       |                                                            | The value can be:                                                                                                                        |
   |                       |                                                            |                                                                                                                                          |
   |                       |                                                            | -  **ACTIVE**: The transit IP address is running properly.                                                                               |
   |                       |                                                            |                                                                                                                                          |
   |                       |                                                            | -  **FROZEN**: The transit IP address is frozen.                                                                                         |
   |                       |                                                            |                                                                                                                                          |
   |                       |                                                            | Enumeration values:                                                                                                                      |
   |                       |                                                            |                                                                                                                                          |
   |                       |                                                            | -  **ACTIVE**                                                                                                                            |
   |                       |                                                            |                                                                                                                                          |
   |                       |                                                            | -  **FROZEN**                                                                                                                            |
   +-----------------------+------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

.. _listtransitips__response_tag:

.. table:: **Table 6** Tag

   +-----------+--------+------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                                          |
   +===========+========+======================================================================================================+
   | key       | String | Specifies the tag key. A key can contain up to 128 Unicode characters. **key** cannot be left blank. |
   +-----------+--------+------------------------------------------------------------------------------------------------------+
   | value     | String | Specifies the tag value. Each value can contain up to 255 Unicode characters.                        |
   +-----------+--------+------------------------------------------------------------------------------------------------------+

.. _listtransitips__response_pageinfo:

.. table:: **Table 7** PageInfo

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                             |
   +=======================+=======================+=========================================================================================================================================================================================+
   | next_marker           | String                | Specifies the ID of the last record in this query, which can be used in the next query.                                                                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | previous_marker       | String                | Specifies the ID of the first record in the pagination query result. When **page_reverse** is set to **true**, this parameter is used together to query resources on the previous page. |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | current_count         | Integer               | Specifies the ID of the last record in the pagination query result. It is usually used to query resources on the next page.                                                             |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | **Value range:**                                                                                                                                                                        |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | 1-2000                                                                                                                                                                                  |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Example Requests
----------------

.. code-block:: text

   GET https://{Endpoint}/v3/da261828016849188f4dcc2ef94d9da9/private-nat/transit-ips

Example Responses
-----------------

**Status code: 200**

Transit IP addresses queried.

.. code-block::

   {
     "transit_ips" : [ {
       "id" : "3faa719d-6d18-4ccb-a5c7-33e65a09663e",
       "project_id" : "da261828016849188f4dcc2ef94d9da9",
       "network_interface_id" : "c91c43fb-8d66-48df-bfa9-b89053ac3737",
       "enterprise_project_id" : "2759da7b-8015-404c-ae0a-a389007b0e2a",
       "gateway_id" : "521bb3d9-8bed-4c6c-9ee8-669bd0620f76",
       "ip_address" : "192.168.1.68",
       "created_at" : "2019-04-29T03:41:59",
       "updated_at" : "2019-04-29T03:41:59",
       "virsubnet_id" : "49ee5fb5-75bf-4320-946e-b21ef4c9c9c1",
       "status" : "ACTIVE",
       "tags" : [ {
         "key" : "key1",
         "value" : "value1"
       } ]
     }, {
       "id" : "a2845109-3b2f-4627-b08f-09a726c0a6e7",
       "project_id" : "da261828016849188f4dcc2ef94d9da9",
       "network_interface_id" : "adebbdca-8c26-4c14-b34f-3f53cd2c42f2",
       "enterprise_project_id" : "2759da7b-8015-404c-ae0a-a389007b0e2a",
       "gateway_id" : "521bb3d9-8bed-4c6c-9ee8-669bd0620f76",
       "ip_address" : "192.168.1.68",
       "created_at" : "2019-04-29T02:16:09",
       "updated_at" : "2019-04-29T02:16:09",
       "virsubnet_id" : "333e5fb5-75bf-4320-946e-b21ef4c9c2g5",
       "status" : "ACTIVE",
       "tags" : [ {
         "key" : "key1",
         "value" : "value1"
       } ]
     } ],
     "request_id" : "747a911c17067a39692f75ac146fb47e"
   }

Status Codes
------------

=========== =============================
Status Code Description
=========== =============================
200         Transit IP addresses queried.
=========== =============================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
