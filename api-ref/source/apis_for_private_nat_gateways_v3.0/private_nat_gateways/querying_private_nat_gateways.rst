:original_name: ListPrivateNats.html

.. _ListPrivateNats:

Querying Private NAT Gateways
=============================

Function
--------

This API is used to query private NAT gateways.

Constraints
-----------

You can type the question mark (?) and ampersand (&) at the end of the URI to define multiple search criteria.

All optional parameters can be filtered. For details, see the example request.

URI
---

GET /v3/{project_id}/private-nat/gateways

.. table:: **Table 1** Path Parameters

   ========== ========= ====== =========================
   Parameter  Mandatory Type   Description
   ========== ========= ====== =========================
   project_id Yes       String Specifies the project ID.
   ========== ========= ====== =========================

.. table:: **Table 2** Query Parameters

   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory       | Type             | Description                                                                                                                                                |
   +=======================+=================+==================+============================================================================================================================================================+
   | limit                 | No              | Integer          | Specifies the number of records displayed on each page.                                                                                                    |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | The value ranges from 1 to 2000.                                                                                                                           |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | Default value: **2000**                                                                                                                                    |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | **Value range:**                                                                                                                                           |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | 1-2000                                                                                                                                                     |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | **Default value:**                                                                                                                                         |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | 2000                                                                                                                                                       |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | marker                | No              | String           | Specifies the start resource ID of pagination query. If the parameter is left blank, only resources on the first page are queried.                         |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | The value is obtained from **next_marker** or **previous_marker** in **PageInfo** queried last time.                                                       |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | page_reverse          | No              | Boolean          | Specifies whether to query resources on the previous page.                                                                                                 |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | No              | Array of strings | Specifies the private NAT gateway ID.                                                                                                                      |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | No              | Array of strings | Specifies the private NAT gateway name.                                                                                                                    |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description           | No              | Array of strings | Provides supplementary information about the private NAT gateway. The description can contain up to 255 characters and cannot contain angle brackets (<>). |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | spec                  | No              | Array of strings | Specifies the private NAT gateway specifications.                                                                                                          |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | The value can be:                                                                                                                                          |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Small**                                                                                                                                               |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Medium**                                                                                                                                              |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Large**                                                                                                                                               |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Extra-large**                                                                                                                                         |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | Enumeration values:                                                                                                                                        |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Small**                                                                                                                                               |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Medium**                                                                                                                                              |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Large**                                                                                                                                               |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **Extra-large**                                                                                                                                         |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id            | No              | Array of strings | Specifies the project ID.                                                                                                                                  |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | No              | Array of strings | Specifies the private NAT gateway status.                                                                                                                  |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | The value can be:                                                                                                                                          |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **ACTIVE**: The private NAT gateway is running properly.                                                                                                |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **FROZEN**: The private NAT gateway is frozen.                                                                                                          |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | Enumeration values:                                                                                                                                        |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **ACTIVE**                                                                                                                                              |
   |                       |                 |                  |                                                                                                                                                            |
   |                       |                 |                  | -  **FROZEN**                                                                                                                                              |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpc_id                | No              | Array of strings | Specifies the ID of the VPC where the private NAT gateway works.                                                                                           |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | virsubnet_id          | No              | Array of strings | Specifies the ID of the subnet where the private NAT gateway works.                                                                                        |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_id | No              | Array of strings | Specifies the ID of the enterprise project that is associated with the private NAT gateway when the private NAT gateway is created.                        |
   +-----------------------+-----------------+------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                             |
   +=================+=================+=================+=========================================================================================================================+
   | X-Auth-Token    | Yes             | String          | Specifies the user token.                                                                                               |
   |                 |                 |                 |                                                                                                                         |
   |                 |                 |                 | It is a response to the API used to obtain a user token. This API is the only one that does not require authentication. |
   |                 |                 |                 |                                                                                                                         |
   |                 |                 |                 | The value of **X-Subject-Token** in the response header is the token value.                                             |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +-----------------------+---------------------------------------------------------------------------+----------------------------------------------------------------+
   | Parameter             | Type                                                                      | Description                                                    |
   +=======================+===========================================================================+================================================================+
   | gateways              | Array of :ref:`PrivateNat <listprivatenats__response_privatenat>` objects | Specifies the response body for querying private NAT gateways. |
   |                       |                                                                           |                                                                |
   |                       |                                                                           | For details, see the **PrivateNat** description.               |
   +-----------------------+---------------------------------------------------------------------------+----------------------------------------------------------------+
   | request_id            | String                                                                    | Specifies the request ID.                                      |
   +-----------------------+---------------------------------------------------------------------------+----------------------------------------------------------------+
   | page_info             | :ref:`PageInfo <listprivatenats__response_pageinfo>` object               | Specifies the pagination information.                          |
   +-----------------------+---------------------------------------------------------------------------+----------------------------------------------------------------+

.. _listprivatenats__response_privatenat:

.. table:: **Table 5** PrivateNat

   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                | Type                                                                        | Description                                                                                                                                                |
   +==========================+=============================================================================+============================================================================================================================================================+
   | id                       | String                                                                      | Specifies the private NAT gateway ID.                                                                                                                      |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id               | String                                                                      | Specifies the project ID.                                                                                                                                  |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                     | String                                                                      | Specifies the private NAT gateway name.                                                                                                                    |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description              | String                                                                      | Provides supplementary information about the private NAT gateway. The description can contain up to 255 characters and cannot contain angle brackets (<>). |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | spec                     | String                                                                      | Specifies the private NAT gateway specifications.                                                                                                          |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | The value can be:                                                                                                                                          |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Small**                                                                                                                                               |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Medium**                                                                                                                                              |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Large**                                                                                                                                               |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Extra-large**                                                                                                                                         |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | **Default value:**                                                                                                                                         |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | Small                                                                                                                                                      |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | Enumeration values:                                                                                                                                        |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Small**                                                                                                                                               |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Medium**                                                                                                                                              |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Large**                                                                                                                                               |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **Extra-large**                                                                                                                                         |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                   | String                                                                      | Specifies the private NAT gateway status.                                                                                                                  |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | The value can be:                                                                                                                                          |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **ACTIVE**: The private NAT gateway is running properly.                                                                                                |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **FROZEN**: The private NAT gateway is frozen.                                                                                                          |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | Enumeration values:                                                                                                                                        |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **ACTIVE**                                                                                                                                              |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | -  **FROZEN**                                                                                                                                              |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at               | String                                                                      | Specifies the time when the private NAT gateway was created. It is a UTC time in *yyyy-mm-ddThh:mm:ssZ* format.                                            |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at               | String                                                                      | Specifies the time when the private NAT gateway was updated. It is a UTC time in *yyyy-mm-ddThh:mm:ssZ* format.                                            |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | downlink_vpcs            | Array of :ref:`DownlinkVpc <listprivatenats__response_downlinkvpc>` objects | Specifies the VPC where the private NAT gateway works.                                                                                                     |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                     | Array of :ref:`Tag <listprivatenats__response_tag>` objects                 | Specifies the list of tags.                                                                                                                                |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enterprise_project_id    | String                                                                      | Specifies the ID of the enterprise project that is associated with the private NAT gateway when the private NAT gateway is created.                        |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | rule_max                 | Integer                                                                     | Specifies the maximum number of rules.                                                                                                                     |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | **Value range:**                                                                                                                                           |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | 0-65535                                                                                                                                                    |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | transit_ip_pool_size_max | Integer                                                                     | Specifies the maximum number of transit IP addresses in a transit IP address pool.                                                                         |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | **Value range:**                                                                                                                                           |
   |                          |                                                                             |                                                                                                                                                            |
   |                          |                                                                             | 1-100                                                                                                                                                      |
   +--------------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listprivatenats__response_downlinkvpc:

.. table:: **Table 6** DownlinkVpc

   +-------------------+--------+---------------------------------------------------------------------+
   | Parameter         | Type   | Description                                                         |
   +===================+========+=====================================================================+
   | vpc_id            | String | Specifies the ID of the VPC where the private NAT gateway works.    |
   +-------------------+--------+---------------------------------------------------------------------+
   | virsubnet_id      | String | Specifies the ID of the subnet where the private NAT gateway works. |
   +-------------------+--------+---------------------------------------------------------------------+
   | ngport_ip_address | String | Specifies the private IP address of the private NAT gateway.        |
   +-------------------+--------+---------------------------------------------------------------------+

.. _listprivatenats__response_tag:

.. table:: **Table 7** Tag

   +-----------+--------+------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                                          |
   +===========+========+======================================================================================================+
   | key       | String | Specifies the tag key. A key can contain up to 128 Unicode characters. **key** cannot be left blank. |
   +-----------+--------+------------------------------------------------------------------------------------------------------+
   | value     | String | Specifies the tag value. Each value can contain up to 255 Unicode characters.                        |
   +-----------+--------+------------------------------------------------------------------------------------------------------+

.. _listprivatenats__response_pageinfo:

.. table:: **Table 8** PageInfo

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                             |
   +=======================+=======================+=========================================================================================================================================================================================+
   | next_marker           | String                | Specifies the ID of the last record in this query, which can be used in the next query.                                                                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | previous_marker       | String                | Specifies the ID of the first record in the pagination query result. When **page_reverse** is set to **true**, this parameter is used together to query resources on the previous page. |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | current_count         | Integer               | Specifies the ID of the last record in the pagination query result. It is usually used to query resources on the next page.                                                             |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | **Value range:**                                                                                                                                                                        |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | 1-2000                                                                                                                                                                                  |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Example Requests
----------------

.. code-block:: text

   GET https://{Endpoint}/v3/70505c941b9b4dfd82fd351932328a2f/private-nat/gateways

Example Responses
-----------------

**Status code: 200**

Private NAT gateways queried.

.. code-block::

   {
     "gateways" : [ {
       "id" : "14338426-6afe-4019-996b-3a9525296e11",
       "name" : "private-nat-gateway-name1",
       "description" : "private-nat-gateway-description1",
       "spec" : "Small",
       "project_id" : "70505c941b9b4dfd82fd351932328a2f",
       "enterprise_project_id" : "2759da7b-8015-404c-ae0a-a389007b0e2a",
       "status" : "ACTIVE",
       "created_at" : "2019-04-22T08:47:13",
       "updated_at" : "2019-04-22T08:47:13",
       "tags" : [ {
         "key" : "key1",
         "value" : "value1"
       } ],
       "downlink_vpcs" : [ {
         "vpc_id" : "3cb66d44-9f75-4237-bfff-e37b14d23ad2",
         "virsubnet_id" : "373979ee-f4f0-46c5-80e3-0fbf72646b70",
         "ngport_ip_address" : "10.0.0.17"
       } ],
       "transit_ip_pool_size_max" : 1,
       "rule_max" : 20
     }, {
       "id" : "65995b8e-dcb7-4ab4-9931-bc3c95beec0a",
       "name" : "private-nat-gateway-name2",
       "description" : "private-nat-gateway-description2",
       "spec" : "Small",
       "project_id" : "70505c941b9b4dfd82fd351932328a2f",
       "enterprise_project_id" : "2759da7b-8015-404c-ae0a-a389007b0e2a",
       "status" : "ACTIVE",
       "created_at" : "2019-04-22T09:06:54",
       "updated_at" : "2019-04-22T09:06:54",
       "tags" : [ {
         "key" : "key1",
         "value" : "value1"
       } ],
       "downlink_vpcs" : [ {
         "vpc_id" : "3cb66d44-9f75-4237-bfff-e37b14d23ad2",
         "virsubnet_id" : "373979ee-f4f0-46c5-80e3-0fbf72646b70",
         "ngport_ip_address" : "10.0.0.18"
       } ],
       "transit_ip_pool_size_max" : 1,
       "rule_max" : 20
     } ],
     "request_id" : "a7b00469-5a31-4274-bb10-59167243383e",
     "page_info" : {
       "previous_marker" : "14338426-6afe-4019-996b-3a9525296e11",
       "current_count" : 2
     }
   }

Status Codes
------------

=========== =============================
Status Code Description
=========== =============================
200         Private NAT gateways queried.
=========== =============================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
