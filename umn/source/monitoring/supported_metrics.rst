:original_name: nat_ces_0002.html

.. _nat_ces_0002:

Supported Metrics
=================

Description
-----------

This section describes metrics reported by NAT Gateway to Cloud Eye as well as their namespaces, monitoring metrics, and dimensions. You can use the management console or the APIs provided by Cloud Eye to query the metrics generated for NAT Gateway.

Namespace
---------

SYS.NAT

Metrics
-------

.. table:: **Table 1** Public NAT gateway metrics

   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | Metric ID                                 | Name                                           | Description                                                                                                                                                         | Value Range | Monitored Object   | Monitoring Period (Raw Data) |
   +===========================================+================================================+=====================================================================================================================================================================+=============+====================+==============================+
   | snat_connection                           | SNAT Connections                               | Number of SNAT connections of the NAT gateway                                                                                                                       | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: count                                                                                                                                                         |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | inbound_bandwidth                         | Inbound Bandwidth                              | Total bandwidth sent out through the public NAT gateway from the public network                                                                                     | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: bit/s                                                                                                                                                         | bits/s      |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | outbound_bandwidth                        | Outbound Bandwidth                             | Total bandwidth sent out through the public NAT gateway from the VPC                                                                                                | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: bit/s                                                                                                                                                         | bits/s      |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | inbound_pps                               | Inbound PPS                                    | Packets received by the public NAT gateway from the public network per second                                                                                       | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: count                                                                                                                                                         |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | outbound_pps                              | Outbound PPS                                   | Packets received by the public NAT gateway from the VPC per second                                                                                                  | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: count                                                                                                                                                         |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | inbound_traffic                           | Inbound Traffic                                | Traffic sent through the public NAT gateway from the public network                                                                                                 | >= 0 bytes  | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: byte                                                                                                                                                          |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | outbound_traffic                          | Outbound Traffic                               | Traffic sent through the public NAT gateway from the VPC                                                                                                            | >= 0 bytes  | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: byte                                                                                                                                                          |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | snat_connection_ratio                     | SNAT Connection Usage Rate                     | Usage rate of SNAT connections                                                                                                                                      | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | The maximum number of connections is the number of connections allowed by NAT gateway specifications.                                                               |             |                    |                              |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: percent                                                                                                                                                       |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | inbound_bandwidth_ratio                   | Inbound Bandwidth Usage Rate                   | Ratio of the bandwidth used by the public NAT gateway to route traffic from the public network                                                                      | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | The maximum bandwidth supported by a public NAT gateway is 20 Gbit/s. Inbound bandwidth usage = Used bandwidth/Maximum bandwidth of the public NAT gateway x 100%.  |             |                    |                              |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: percent                                                                                                                                                       |             |                    |                              |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | .. note::                                                                                                                                                           |             |                    |                              |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                |    This metric is used to monitor the performance of public NAT gateways instead of the EIP bandwidth.                                                              |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | outbound_bandwidth_ratio                  | Outbound Bandwidth Usage Rate                  | Ratio of the bandwidth used by the public NAT gateway to route traffic from the VPC                                                                                 | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | The maximum bandwidth supported by a public NAT gateway is 20 Gbit/s. Outbound bandwidth usage = Used bandwidth/Maximum bandwidth of the public NAT gateway x 100%. |             |                    |                              |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: percent                                                                                                                                                       |             |                    |                              |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | .. note::                                                                                                                                                           |             |                    |                              |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                |    This metric is used to monitor the performance of public NAT gateways instead of the EIP bandwidth.                                                              |             |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | total_inbound_udp_bandwidth               | Total Inbound Bandwidth (UDP)                  | Total bandwidth sent out through the public NAT gateway over UDP from the public network                                                                            | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: bit/s                                                                                                                                                         | bits/s      |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | total_outbound_udp_bandwidth              | Total Outbound Bandwidth (UDP)                 | Total bandwidth sent out through the public NAT gateway over UDP from the VPC                                                                                       | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: bit/s                                                                                                                                                         | bits/s      |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | total_inbound_tcp_bandwidth               | Total Inbound Bandwidth (TCP)                  | Total bandwidth sent out through the public NAT gateway over TCP from the public network                                                                            | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: bit/s                                                                                                                                                         | bits/s      |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | total_outbound_tcp_bandwidth              | Total Outbound Bandwidth (TCP)                 | Total bandwidth sent out through the public NAT gateway over TCP from the VPC                                                                                       | >= 0        | Public NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                                                                     |             |                    |                              |
   |                                           |                                                | Unit: bit/s                                                                                                                                                         | bits/s      |                    |                              |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | packets_drop_count_snat_connection_beyond | Packets Dropped (Excessive SNAT Connections)   | Number of packets dropped by the public NAT gateway due to excessive SNAT connections                                                                               | >= 0        | Public NAT gateway | 1 minute                     |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | packets_drop_count_pps_beyond             | Packets Dropped (Excessive PPS)                | Number of packets dropped by the public NAT gateway due to excessive PPS                                                                                            | >= 0        | Public NAT gateway | 1 minute                     |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+
   | packets_drop_count_eip_port_alloc_beyond  | Packets Dropped (When All EIP Ports Allocated) | Number of packets dropped by the public NAT gateway when all EIP ports have been allocated                                                                          | >= 0        | Public NAT gateway | 1 minute                     |
   +-------------------------------------------+------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+--------------------+------------------------------+

.. table:: **Table 2** Private NAT gateway metrics

   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | Metric ID                                 | Name                                           | Description                                                                                                        | Value Range | Monitored Object    | Monitoring Period (Raw Data) |
   +===========================================+================================================+====================================================================================================================+=============+=====================+==============================+
   | snat_connection                           | SNAT Connections                               | Number of SNAT connections of the NAT gateway                                                                      | >= 0        | Private NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                    |             |                     |                              |
   |                                           |                                                | Unit: count                                                                                                        |             |                     |                              |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | inbound_bandwidth                         | Inbound Bandwidth                              | Bandwidth used by the private NAT gateway to receive traffic from the VPC where the transit IP address is assigned | >= 0 bit/s  | Private NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                    |             |                     |                              |
   |                                           |                                                | Unit: bit/s                                                                                                        |             |                     |                              |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | outbound_bandwidth                        | Outbound Bandwidth                             | Bandwidth used by the private NAT gateway to receive traffic from the VPC where this gateway is created            | >= 0 bit/s  | Private NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                    |             |                     |                              |
   |                                           |                                                | Unit: bit/s                                                                                                        |             |                     |                              |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | inbound_pps                               | Inbound PPS                                    | Packets received by the private NAT gateway per second from the VPC where the transit IP address is assigned       | >= 0        | Private NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                    |             |                     |                              |
   |                                           |                                                | Unit: count                                                                                                        |             |                     |                              |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | outbound_pps                              | Outbound PPS                                   | Packets received by the private NAT gateway per second from the VPC where this gateway is created                  | >= 0        | Private NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                    |             |                     |                              |
   |                                           |                                                | Unit: count                                                                                                        |             |                     |                              |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | inbound_traffic                           | Inbound Traffic                                | Traffic received by the private NAT gateway from the VPC where the transit IP address is assigned                  | >= 0 bytes  | Private NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                    |             |                     |                              |
   |                                           |                                                | Unit: byte                                                                                                         |             |                     |                              |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | outbound_traffic                          | Outbound Traffic                               | Traffic received by the private NAT gateway from the VPC where this gateway is created                             | >= 0 bytes  | Private NAT gateway | 1 minute                     |
   |                                           |                                                |                                                                                                                    |             |                     |                              |
   |                                           |                                                | Unit: byte                                                                                                         |             |                     |                              |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | packets_drop_count_snat_connection_beyond | Packets Dropped (Excessive SNAT Connections)   | Number of packets dropped by the public NAT gateway due to excessive SNAT connections                              | >= 0        | Private NAT gateway | 1 minute                     |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | packets_drop_count_pps_beyond             | Packets Dropped (Excessive PPS)                | Number of packets dropped by the public NAT gateway due to excessive PPS                                           | >= 0        | Private NAT gateway | 1 minute                     |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+
   | packets_drop_count_eip_port_alloc_beyond  | Packets Dropped (When All EIP Ports Allocated) | Number of packets dropped by the public NAT gateway when all EIP ports have been allocated                         | >= 0        | Private NAT gateway | 1 minute                     |
   +-------------------------------------------+------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------------------+------------------------------+

Dimensions
----------

================== ===================
Key                Value
================== ===================
nat_gateway_id     Public NAT gateway
vpc_nat_gateway_id Private NAT gateway
================== ===================
